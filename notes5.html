<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>notes5</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<meta name="title" content="notes5"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2014-04-21T17:50-0700"/>
<meta name="author" content="michael"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: courier, monospace; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  {margin-left:auto; margin-right:0px;  text-align:right;}
  .left   {margin-left:0px;  margin-right:auto; text-align:left;}
  .center {margin-left:auto; margin-right:auto; text-align:center;}
  p.verse { margin-left: 3% }
  pre {
        padding: 5pt;
        font-family: courier, monospace;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top;  }
  th.right  { text-align:center;  }
  th.left   { text-align:center;   }
  th.center { text-align:center; }
  td.right  { text-align:right;  }
  td.left   { text-align:left;   }
  td.center { text-align:center; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  div.inlinetask {
    padding:10px;
    border:2px solid gray;
    margin:10px;
    background: #ffffcc;
  }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>

</head>
<body>

<div id="preamble">

</div>

<div id="content">
<h1 class="title">notes5</h1>


<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Lecture 5</a>
<ul>
<li><a href="#sec-1-1">LOOPS</a>
<ul>
<li><a href="#sec-1-1-1">"while" Loops</a></li>
<li><a href="#sec-1-1-2">"for" Loops</a></li>
</ul>
</li>
<li><a href="#sec-1-2">ARRAYS</a></li>
<li><a href="#sec-1-3">Primes Revisited</a></li>
<li><a href="#sec-1-4">Multi-Dimensional Arrays</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1">Lecture 5</h2>
<div class="outline-text-2" id="text-1">

<p>Today's reading:  Sierra &amp; Bates pp. 59-62, 83, 114-116, 293-300, 670.
</p>
<p>
<a href="original-notes/05">original notes</a>
</p>
</div>

<div id="outline-container-1-1" class="outline-3">
<h3 id="sec-1-1">LOOPS</h3>
<div class="outline-text-3" id="text-1-1">


</div>

<div id="outline-container-1-1-1" class="outline-4">
<h4 id="sec-1-1-1">"while" Loops</h4>
<div class="outline-text-4" id="text-1-1-1">

<p>A "while" statement is like an "if" statement, but the body of the statement is
executed repeatedly, as long as the condition remains true.  The following
example tests whether n is a prime number by attempting to divide it by every
integer in the range 2&hellip;n - 1.
</p>



<pre class="src src-java"><span style="color: #a020f0;">public</span> <span style="color: #a020f0;">static</span> <span style="color: #228b22;">boolean</span> <span style="color: #0000ff;">isPrime</span>(<span style="color: #228b22;">int</span> <span style="color: #a0522d;">n</span>) {
  <span style="color: #228b22;">int</span> <span style="color: #a0522d;">divisor</span> = 2;
  <span style="color: #a020f0;">while</span> (divisor &lt; n) {         _ &lt;- <span style="color: #8b2252;">"divisor &lt; n"</span> is the _loop_condition_.
    <span style="color: #a020f0;">if</span> (n % divisor == 0) {      |
      <span style="color: #a020f0;">return</span> <span style="color: #008b8b;">false</span>;              | These lines inside the braces
    }                            | are called the _loop_body_.  
    divisor++;                  _|
  }
  <span style="color: #a020f0;">return</span> <span style="color: #008b8b;">true</span>;
}
</pre>


<p>
Here's how the loop executes.
</p><ul>
<li>When Java reaches this "while" loop, it tests whether the loop condition
  "divisor &lt; n" is true.
</li>
<li>If divisor &lt; n, Java executes the loop body {in braces}.
</li>
<li>When Java finishes the loop body (i.e. after executing "divisor++"), it
  tests <span style="text-decoration:underline;">again</span> whether "divisor &lt; n" is true.
</li>
<li>If it's still true, Java jumps back up to the beginning of the loop body and
  executes it again.
</li>
<li>If Java tests the loop condition and finds that "divisor &lt; n" is false, Java
  continues execution from the next line of code <span style="text-decoration:underline;">after</span> the loop body.
</li>
</ul>


<p>
An <span style="text-decoration:underline;">iteration</span> is a pass through the loop body.  In this example, if n is 2 or
less, the loop body won't iterate even once.
</p>
</div>

</div>

<div id="outline-container-1-1-2" class="outline-4">
<h4 id="sec-1-1-2">"for" Loops</h4>
<div class="outline-text-4" id="text-1-1-2">

<p>"for" loops are a convenient shorthand that can be used to write some "while"
loops in a more compact way.  The following "for" loop is equivalent to the
following "while" loop.
</p>



<pre class="src src-java"><span style="color: #a020f0;">for</span> (initialize; condition; next) {      |    initialize;   
  statements;                            |    <span style="color: #a020f0;">while</span> (condition) {
}                                        |      statements;
                                         |      next;
                                         |    }
</pre>


<p>
By convention, the "initialize" and "next" are both expressions that affect a
variable that changes every loop iteration and is central to the test.  Most
commonly, "for" statements are used to iterate while advancing an index
variable over a fixed range of values.  isPrime can be rewritten thus:
</p>



<pre class="src src-java"><span style="color: #a020f0;">public</span> <span style="color: #a020f0;">static</span> <span style="color: #228b22;">boolean</span> <span style="color: #0000ff;">isPrime</span>(<span style="color: #228b22;">int</span> <span style="color: #a0522d;">n</span>) {
  <span style="color: #a020f0;">for</span> (<span style="color: #228b22;">int</span> <span style="color: #a0522d;">divisor</span> = 2; divisor &lt; n; divisor++) {    _
    <span style="color: #a020f0;">if</span> (n % divisor == 0) {                           |
      <span style="color: #a020f0;">return</span> <span style="color: #008b8b;">false</span>;                                   | Loop body.
    }                                                _|
  }
  <span style="color: #a020f0;">return</span> <span style="color: #008b8b;">true</span>;
}
</pre>


<p>
A common mistake among beginning Java and C programmers is to get the condition
wrong and do one loop iteration too few.  For example, suppose you want to
print all the prime numbers in the range 2&hellip;n.
</p>



<pre class="src src-java"><span style="color: #a020f0;">public</span> <span style="color: #a020f0;">static</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">printPrimes</span>(<span style="color: #228b22;">int</span> <span style="color: #a0522d;">n</span>) {
  <span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span>;
  <span style="color: #a020f0;">for</span> (i = 2; i &lt; n; i++) {        <span style="color: #b22222;">// </span><span style="color: #b22222;">ERROR!!!  Condition should be i &lt;= n.</span>
    <span style="color: #a020f0;">if</span> (isPrime(i)) {
      System.out.print(<span style="color: #8b2252;">" "</span> + i);
    }
  }
}
</pre>


<p>
Suppose we correct this method so the loop condition is "i &lt;= n".  Think
carefully:  what is the value of i when the printPrimes method ends?
</p>
<p>
We'll come back to iteration, but first let's investigate something more
interesting to iterate on.
</p>
</div>
</div>

</div>

<div id="outline-container-1-2" class="outline-3">
<h3 id="sec-1-2">ARRAYS</h3>
<div class="outline-text-3" id="text-1-2">

<p>An array is an object consisting of a numbered list of variables, each of which
is a primitive type or a reference to another object.  The variables in an
array are always indexed from zero in increments of one.  For example, here is
an array of characters.
</p>
<p>
<img src="ditaa-images/img20_f18bbd524ca86827357f5a81eda9dc5b05d7e38e.png"  alt="ditaa-images/img20_f18bbd524ca86827357f5a81eda9dc5b05d7e38e.png" />
</p>

<p>
Like any object, an array is only useful if we can reference it, usually
through some reference variable like "c" above.  We declare c thusly:
</p>



<pre class="src src-java"><span style="color: #228b22;">char</span>[] <span style="color: #a0522d;">c</span>;           <span style="color: #b22222;">// </span><span style="color: #b22222;">Reference to an array (of any length) of characters.</span>
</pre>


<p>
We can construct an array of four characters as follows.
</p>



<pre class="src src-java">c = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">char</span>[4];
</pre>


<p>
Now that we have an array object, we may fill in its values by indexing c.
</p>



<pre class="src src-java">c[0] = <span style="color: #8b2252;">'b'</span>;         <span style="color: #b22222;">// </span><span style="color: #b22222;">Store the character 'b' at index 0.</span>
c[1] = <span style="color: #8b2252;">'l'</span>;
c[2] = <span style="color: #8b2252;">'u'</span>;
c[3] = <span style="color: #8b2252;">'e'</span>;
</pre>


<p>
The characters in a four-element array are indexed from 0 to 3.  If we try to
address any index outside this range, we will trigger a run-time error.
</p>



<pre class="src src-java">c[4] = <span style="color: #8b2252;">'s'</span>;         <span style="color: #b22222;">// </span><span style="color: #b22222;">Program stops with ArrayIndexOutOfBoundsException</span>
</pre>


<p>
A <span style="text-decoration:underline;">run-time error</span> is an error that doesn't show up when you compile the code,
but does show up later when you run the program and the Java Virtual Machine
tries to access the out-of-range index.
</p>
<p>
When c references an array, you can find out its length by looking at the field
"c.length".  You can never assign a value to the "length" field, though.  Java
will give you a compile-time error if you try.
</p>
</div>

</div>

<div id="outline-container-1-3" class="outline-3">
<h3 id="sec-1-3">Primes Revisited</h3>
<div class="outline-text-3" id="text-1-3">


<p>
The printPrimes method is embarrassingly slow when n is large.  Arrays can help
us write a faster method to identify the primes from 2 to n.
</p>
<p>
The method uses an ancient algorithm called the Sieve of Eratosthenes.  All
integers are assumed prime until proven composite.  The algorithm iterates
through all possible divisors, and marks as non-prime every integer divisible
by a given divisor.  Here's the beginning of the method.
</p>



<pre class="src src-java"><span style="color: #a020f0;">public</span> <span style="color: #a020f0;">static</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">printPrimes</span>(<span style="color: #228b22;">int</span> <span style="color: #a0522d;">n</span>) {
    <span style="color: #228b22;">boolean</span>[] <span style="color: #a0522d;">prime</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">boolean</span>[n + 1];                  <span style="color: #b22222;">// </span><span style="color: #b22222;">Numbered 0...n.</span>
    <span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span>;
    <span style="color: #a020f0;">for</span> (i = 2; i &lt;= n; i++) {
        prime[i] = <span style="color: #008b8b;">true</span>;                       <span style="color: #b22222;">// </span><span style="color: #b22222;">Prime until proven composite.</span>
    }
</pre>


<p>
Why did we construct an array of length n + 1?  Because if we'd constructed an
array of length n, its elements would be numbered from 0 to n - 1.  But we'd
like to have an element numbered n.
</p>
<p>
To continue the method, we iterate over all possible divisors from 2 to the
square root of n.  For each prime value of divisor, we mark as non-prime all
integers divisible by divisor, except divisor itself.
</p>



<pre class="src src-java"><span style="color: #a020f0;">for</span> (<span style="color: #228b22;">int</span> <span style="color: #a0522d;">divisor</span> = 2; divisor * divisor &lt;= n; divisor++) {
    <span style="color: #a020f0;">if</span> (prime[divisor]) {
        <span style="color: #a020f0;">for</span> (i = 2 * divisor; i &lt;= n; i = i + divisor) {
            prime[i] = <span style="color: #008b8b;">false</span>;                     <span style="color: #b22222;">// </span><span style="color: #b22222;">i is divisible by divisor.</span>
        }
    }
}
</pre>


<p>
Math question:  why do we only need to consider divisors up to the square root
of n?
</p>
<p>
Finally, we print every integer from 2 to n that hasn't been marked non-prime.
</p>



<pre class="src src-java"><span style="color: #a020f0;">for</span> (i = 2; i &lt;= n; i++) {
    <span style="color: #a020f0;">if</span> (prime[i]) {
        System.out.print(<span style="color: #8b2252;">" "</span> + i);
    }
}
</pre>


<p>
Observe that elements 0 and 1 of the array are never used.  A tiny bit of
memory is wasted, but the readability of the code is better for it.
</p>
</div>

</div>

<div id="outline-container-1-4" class="outline-3">
<h3 id="sec-1-4">Multi-Dimensional Arrays</h3>
<div class="outline-text-3" id="text-1-4">

<p>A <span style="text-decoration:underline;">two-dimensional array</span> is an array of references to arrays.  A three-
dimensional array is an array of arrays of arrays.  As an example, consider
Pascal's Triangle.
</p>



<pre class="src src-texta">               1                  &lt;-- row 0
            1     1
         1     2     1
      1     3     3     1
   1     4     6     4     1
1     5    10     10    5     1   &lt;-- row 5
</pre>


<p>
Each entry is the sum of the two nearest entries in the row immediately above.
If the rows are numbered from zero, row i represents the coefficients of the
polynomial (x + 1)<sup>i</sup>.  For example, (x + 1)<sup>4</sup> = x<sup>4</sup> + 4x<sup>3</sup> + 6x<sup>2</sup> + 4x + 1.
</p>
<p>
The following method returns an array of arrays of ints that stores the first n
rows of Pascal's Triangle.
</p>



<pre class="src src-java"><span style="color: #a020f0;">public</span> <span style="color: #a020f0;">static</span> <span style="color: #228b22;">int</span>[][] <span style="color: #0000ff;">pascalTriangle</span>(<span style="color: #228b22;">int</span> <span style="color: #a0522d;">n</span>) {
    <span style="color: #228b22;">int</span>[][] <span style="color: #a0522d;">pt</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">int</span>[n][];
</pre>


<p>
Here, we've just declared pt to reference an array of arrays, and constructed
an array for it to reference.  However, the arrays that this array will
reference do not yet exist.  They are constructed and filled in by the
following loop.
</p>



<pre class="src src-java"><span style="color: #a020f0;">for</span> (<span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = 0; i &lt; n; i++) {
    pt[i] = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">int</span>[i + 1];                            <span style="color: #b22222;">// </span><span style="color: #b22222;">Construct row i.</span>
    pt[i][0] = 1;                              <span style="color: #b22222;">// </span><span style="color: #b22222;">Leftmost value of row i.</span>
    <span style="color: #a020f0;">for</span> (<span style="color: #228b22;">int</span> <span style="color: #a0522d;">j</span> = 1; j &lt; i; j++) {
        pt[i][j] = pt[i - 1][j - 1] + pt[i - 1][j];  <span style="color: #b22222;">// </span><span style="color: #b22222;">Sum 2 entries above.</span>
    }
    pt[i][i] = 1;                             <span style="color: #b22222;">// </span><span style="color: #b22222;">Rightmost value of row i.</span>
}
<span style="color: #a020f0;">return</span> pt;
</pre>


<p>
Our array objects look like this:
</p>

<p>
<img src="ditaa-images/img22_3482f51d01f34c2b6cddbd547f7f69e8876a9d77.png"  alt="ditaa-images/img22_3482f51d01f34c2b6cddbd547f7f69e8876a9d77.png" />
</p>
</div>
</div>
</div>
</div>

<div id="postamble">
<p class="date">Date: 2014-04-21T17:50-0700</p>
<p class="author">Author: michael</p>
<p class="creator"><a href="http://orgmode.org">Org</a> version 7.9.3f with <a href="http://www.gnu.org/software/emacs/">Emacs</a> version 24</p>
<a href="http://validator.w3.org/check?uri=referer">Validate XHTML 1.0</a>

</div>
</body>
</html>
